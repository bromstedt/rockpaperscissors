<!DOCTYPE html>

<head>
  <title>Rock Paper Scissors</title>
  <meta charset="utf-8">
</head>

<body>
  <script>

    let playerScore = 0;
    let computerScore = 0;
    let round = 1;

    function game() {

      do {
        let playerSelection = prompt('Make your choice');
        const computerSelection = computerPlay();
        console.log('Round: ' + round);
        console.log(playRound(playerSelection, computerSelection));
      } while(round <= 5);
      if(round > 5) {
        console.log('Game Over');
      }
      if(playerScore === computerScore) {
        let result = 'A Draw! ';
      } else if(playerScore > computerScore) {
        result = 'You Win! ';
      } else {
        result = 'You Lose!';
      }
      console.log(result + ' Player: ' + playerScore + ' - Computer: ' + computerScore);
    }

    function playRound(playerSelection, computerSelection){
      round++;
      let str = playerSelection.toLowerCase();
      playerSelection = capitalize(str);

      if(playerSelection === computerSelection) {
        let result = 'Draw! ';
        playerScore++;
        computerScore++;
        return result + playerSelection + ' vs. ' + computerSelection;
      } else if(playerSelection === 'Rock' && computerSelection === 'Scissors' || playerSelection === 'Paper' &&
                computerSelection === 'Rock' || playerSelection === 'Scissors' && computerSelection === 'Paper') {
        result = 'You Win! ';
        playerScore++;
        return result + playerSelection + ' beats ' + computerSelection;
      } else {
        result = 'You Lose! ';
        computerScore++;
        return result + computerSelection + ' beats ' + playerSelection;
      }
      function capitalize(str) {
        let str1 = str.toUpperCase();
        let capital = str1.slice(0,1);
        let str2 = str1.slice(1);
        str2 = str2.toLowerCase();
        return capital + str2;
      }
    }

    function computerPlay(){
      let random = Math.floor(Math.random() * 3);

      switch(true){
        case random === 2:
        return 'Scissors';
        break;
        case random === 1:
        return 'Paper';
        break;
        default:
        return 'Rock';
      }
    }

  </script>
</body>
